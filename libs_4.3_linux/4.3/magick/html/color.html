<!DOCTYPE html><html><head><title>R: Image Color</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table style="width: 100%;"><tr><td>color {magick}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2 id='color'>Image Color</h2>

<h3>Description</h3>

<p>Functions to adjust contrast, brightness, colors of the image. Details below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>image_modulate(image, brightness = 100, saturation = 100, hue = 100)

image_quantize(
  image,
  max = 256,
  colorspace = "rgb",
  dither = TRUE,
  treedepth = NULL
)

image_map(image, map, dither = FALSE)

image_ordered_dither(image, threshold_map)

image_channel(image, channel = "lightness")

image_separate(image, channel = "default")

image_combine(image, colorspace = "sRGB", channel = "default")

image_transparent(image, color, fuzz = 0)

image_background(image, color, flatten = TRUE)

image_colorize(image, opacity, color)

image_contrast(image, sharpen = 1)

image_normalize(image)

image_enhance(image)

image_equalize(image)

image_median(image, radius = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="color_:_image">image</code></td>
<td>
<p>magick image object returned by <code><a href="../../magick/help/image_read.html">image_read()</a></code> or <code><a href="../../magick/help/image_graph.html">image_graph()</a></code></p>
</td></tr>
<tr><td><code id="color_:_brightness">brightness</code></td>
<td>
<p>modulation of brightness as percentage of the current value (100 for no change)</p>
</td></tr>
<tr><td><code id="color_:_saturation">saturation</code></td>
<td>
<p>modulation of saturation as percentage of the current value (100 for no change)</p>
</td></tr>
<tr><td><code id="color_:_hue">hue</code></td>
<td>
<p>modulation of hue is an absolute rotation of -180 degrees to +180 degrees from the
current position corresponding to an argument range of 0 to 200 (100 for no change)</p>
</td></tr>
<tr><td><code id="color_:_max">max</code></td>
<td>
<p>preferred number of colors in the image. The actual number of colors in the image may
be less than your request, but never more.</p>
</td></tr>
<tr><td><code id="color_:_colorspace">colorspace</code></td>
<td>
<p>string with a <a href="https://www.imagemagick.org/Magick++/Enumerations.html#ColorspaceType"><code>colorspace</code></a>
from <a href="../../magick/help/colorspace_types.html">colorspace_types</a> for example <code>"gray"</code>, <code>"rgb"</code> or <code>"cmyk"</code></p>
</td></tr>
<tr><td><code id="color_:_dither">dither</code></td>
<td>
<p>a boolean (defaults to <code>TRUE</code>) specifying whether to apply Floyd/Steinberg error
diffusion to the image: averages intensities of several neighboring pixels</p>
</td></tr>
<tr><td><code id="color_:_treedepth">treedepth</code></td>
<td>
<p>depth of the quantization color classification tree. Values of 0 or 1 allow
selection of the optimal tree depth for the color reduction algorithm. Values between 2 and 8
may be used to manually adjust the tree depth.</p>
</td></tr>
<tr><td><code id="color_:_map">map</code></td>
<td>
<p>reference image to map colors from</p>
</td></tr>
<tr><td><code id="color_:_threshold_map">threshold_map</code></td>
<td>
<p>A string giving the dithering pattern to use. See
<a href="https://legacy.imagemagick.org/Usage/option_link.cgi?ordered-dither">the ImageMagick documentation</a>
for possible values</p>
</td></tr>
<tr><td><code id="color_:_channel">channel</code></td>
<td>
<p>a string with a
<a href="https://www.imagemagick.org/Magick++/Enumerations.html#ChannelType">channel</a> from
<a href="../../magick/help/channel_types.html">channel_types</a> for example <code>"alpha"</code> or <code>"hue"</code> or <code>"cyan"</code></p>
</td></tr>
<tr><td><code id="color_:_color">color</code></td>
<td>
<p>a valid <a href="https://www.imagemagick.org/Magick++/Color.html">color string</a> such as
<code>"navyblue"</code> or <code>"#000080"</code>. Use <code>"none"</code> for transparency.</p>
</td></tr>
<tr><td><code id="color_:_fuzz">fuzz</code></td>
<td>
<p>relative color distance (value between 0 and 100) to be considered similar
in the filling algorithm</p>
</td></tr>
<tr><td><code id="color_:_flatten">flatten</code></td>
<td>
<p>should image be flattened before writing? This also replaces
transparency with background color.</p>
</td></tr>
<tr><td><code id="color_:_opacity">opacity</code></td>
<td>
<p>percentage of opacity used for coloring</p>
</td></tr>
<tr><td><code id="color_:_sharpen">sharpen</code></td>
<td>
<p>enhance intensity differences in image</p>
</td></tr>
<tr><td><code id="color_:_radius">radius</code></td>
<td>
<p>replace each pixel with the median color in a circular neighborhood</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For details see <a href="https://www.imagemagick.org/Magick++/STL.html">Magick++ STL</a>
documentation. Short descriptions:
</p>

<ul>
<li> <p><a href="../../magick/help/image_modulate.html">image_modulate</a> adjusts brightness, saturation and hue of image relative to current.
</p>
</li>
<li> <p><a href="../../magick/help/image_quantize.html">image_quantize</a> reduces number of unique colors in the image.
</p>
</li>
<li> <p><a href="../../magick/help/image_ordered_dither.html">image_ordered_dither</a> reduces number of unique colors using a dithering threshold map.
</p>
</li>
<li> <p><a href="../../magick/help/image_map.html">image_map</a> replaces colors of image with the closest color from a reference image.
</p>
</li>
<li> <p><a href="../../magick/help/image_channel.html">image_channel</a> extracts a single channel from an image and returns as grayscale.
</p>
</li>
<li> <p><a href="../../magick/help/image_transparent.html">image_transparent</a> sets pixels approximately matching given color to transparent.
</p>
</li>
<li> <p><a href="../../magick/help/image_background.html">image_background</a> sets background color. When image is flattened, transparent pixels get background color.
</p>
</li>
<li> <p><a href="../../magick/help/image_colorize.html">image_colorize</a> overlays a solid color frame using specified opacity.
</p>
</li>
<li> <p><a href="../../magick/help/image_contrast.html">image_contrast</a> enhances intensity differences in image
</p>
</li>
<li> <p><a href="../../magick/help/image_normalize.html">image_normalize</a> increases contrast by normalizing the pixel values to span the full range of colors
</p>
</li>
<li> <p><a href="../../magick/help/image_enhance.html">image_enhance</a> tries to minimize noise
</p>
</li>
<li> <p><a href="../../magick/help/image_equalize.html">image_equalize</a> equalizes using histogram equalization
</p>
</li>
<li> <p><a href="../../magick/help/image_median.html">image_median</a> replaces each pixel with the median color in a circular neighborhood
</p>
</li></ul>

<p>Note that
colors are also determined by image properties
<a href="https://www.imagemagick.org/Magick++/Enumerations.html#ImageType">imagetype</a> and
<a href="https://www.imagemagick.org/Magick++/Enumerations.html#ColorspaceType">colorspace</a>
which can be modified via <code><a href="../../magick/help/image_convert.html">image_convert()</a></code>.
</p>


<h3>See Also</h3>

<p>Other image: 
<code><a href="../../magick/help/_index_.html">_index_</a></code>,
<code><a href="../../magick/help/analysis.html">analysis</a></code>,
<code><a href="../../magick/help/animation.html">animation</a></code>,
<code><a href="../../magick/help/attributes.html">attributes</a>()</code>,
<code><a href="../../magick/help/composite.html">composite</a></code>,
<code><a href="../../magick/help/defines.html">defines</a></code>,
<code><a href="../../magick/help/device.html">device</a></code>,
<code><a href="../../magick/help/edges.html">edges</a></code>,
<code><a href="../../magick/help/editing.html">editing</a></code>,
<code><a href="../../magick/help/effects.html">effects</a>()</code>,
<code><a href="../../magick/help/fx.html">fx</a></code>,
<code><a href="../../magick/help/geometry.html">geometry</a></code>,
<code><a href="../../magick/help/morphology.html">morphology</a></code>,
<code><a href="../../magick/help/ocr.html">ocr</a></code>,
<code><a href="../../magick/help/options.html">options</a>()</code>,
<code><a href="../../magick/help/painting.html">painting</a></code>,
<code><a href="../../magick/help/segmentation.html">segmentation</a></code>,
<code><a href="../../magick/help/transform.html">transform</a>()</code>,
<code><a href="../../magick/help/video.html">video</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># manually adjust colors
logo &lt;- image_read("logo:")
image_modulate(logo, brightness = 200)
image_modulate(logo, saturation = 150)
image_modulate(logo, hue = 200)

# Reduce image to 10 different colors using various spaces
image_quantize(logo, max = 10, colorspace = 'gray')
image_quantize(logo, max = 10, colorspace = 'rgb')
image_quantize(logo, max = 10, colorspace = 'cmyk')

image_ordered_dither(logo, 'o8x8')
# Change background color
translogo &lt;- image_transparent(logo, 'white')
image_background(translogo, "pink", flatten = TRUE)

# Compare to flood-fill method:
image_fill(logo, "pink", fuzz = 20)

# Other color tweaks
image_colorize(logo, 50, "red")
image_contrast(logo)
image_normalize(logo)
image_enhance(logo)
image_equalize(logo)
image_median(logo)

# Alternate way to convert into black-white
image_convert(logo, type = 'grayscale')
</code></pre>

<hr /><div style="text-align: center;">[Package <em>magick</em> version 2.8.0 <a href="00Index.html">Index</a>]</div>
</div>
</body></html>
