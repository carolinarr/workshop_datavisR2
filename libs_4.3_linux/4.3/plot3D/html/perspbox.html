<!DOCTYPE html><html><head><title>R: Creates an empty perspective box, ready for adding objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table style="width: 100%;"><tr><td>Perspective box {plot3D}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2 id='Perspective+20box'>
Creates an empty perspective box, ready for adding objects
</h2>

<h3>Description</h3>

<p><code>perspbox</code> draws a box and labels, and makes space for a colorkey (if any).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perspbox (x = seq(0, 1, length.out = nrow(z)), 
          y = seq(0, 1, length.out = ncol(z)), z, 
          bty = c("b", "b2", "f", "g", "bl", "bl2", "u", "n"),  ..., 
          col.axis = "black", col.panel = NULL, lwd.panel = 1,                     
          col.grid = NULL, lwd.grid = 1, 
          phi = 40, theta = 40, col = NULL,
          colkey = NULL, plot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Perspective+20box_:_x">x</code>, <code id="Perspective+20box_:_y">y</code></td>
<td>
<p>Vectors with x and y values. It is sufficient to pass the 
ranges of the x- and y-values, as they will not be drawn. 
If <code>z</code> is a matrix, it is required that <code>length(x) = nrow(z)</code> and 
<code>length(y) = ncol(z)</code>.
</p>
</td></tr>
<tr><td><code id="Perspective+20box_:_z">z</code></td>
<td>
<p>Matrix or vector with z-values. If <code>z</code> is a matrix, 
it is sufficient to pass a diagonal matrix with the range of the z-values, 
as they will not be drawn. 
</p>
</td></tr>
<tr><td><code id="Perspective+20box_:_bty">bty</code></td>
<td>
<p>The type of the box; only effective if the <a href="../../graphics/html/persp.html">persp</a> 
argument <code>box</code> equals <code>TRUE</code> (the default).
Unless <code>bty</code> is equal to <code>"u"</code> then the arguments 
<code>col.axis, col.panel, lwd.panel, col.grid, lwd.grid</code> will be ignored.
<code>"f"</code> is the full box, the default as from <a href="../../graphics/html/persp.html">persp</a>, 
<code>"b"</code> has only the back panels visible, when <code>"b2"</code>
has back panels and grid lines, <code>"g"</code> has grey background with white 
gridlines, <code>"bl"</code> has a black background, 
<code>"bl2"</code> has a black background with grey lines.
<code>"u"</code> means that the user will specify the arguments 
<code>col.axis, col.panel, lwd.panel, col.grid, lwd.grid</code> manually.
<code>"n"</code> means that no box will be drawn. This is the same as setting
<code>box = FALSE</code>.
</p>
</td></tr>
<tr><td><code id="Perspective+20box_:_col.axis">col.axis</code>, <code id="Perspective+20box_:_col.panel">col.panel</code>, <code id="Perspective+20box_:_col.grid">col.grid</code></td>
<td>
<p>The color of the axis line, of the 
axis panel or of the grid lines. Only used if <code>bty = "u"</code>.
</p>
</td></tr>
<tr><td><code id="Perspective+20box_:_lwd.panel">lwd.panel</code>, <code id="Perspective+20box_:_lwd.grid">lwd.grid</code></td>
<td>
<p>The width of the panel border or of the 
grid lines. Only used if <code>bty = "u"</code>.
</p>
</td></tr>
<tr><td><code id="Perspective+20box_:_theta">theta</code>, <code id="Perspective+20box_:_phi">phi</code></td>
<td>
<p>The angles defining the viewing direction. 
<code>theta</code> gives the azimuthal direction and <code>phi</code> the colatitude. 
see <a href="../../graphics/html/persp.html">persp</a>.
</p>
</td></tr>
<tr><td><code id="Perspective+20box_:_col">col</code></td>
<td>
<p>Colors to be used for coloring the <code>colvar</code> variable. 
Here only used for assessing if a color key should be drawn.
</p>
</td></tr>
<tr><td><code id="Perspective+20box_:_colkey">colkey</code></td>
<td>
<p>A logical, <code>NULL</code> (default), or a <code>list</code> with parameters 
for the color key (legend). List parameters should be one of 
<code>side, plot, length, width, dist, shift, addlines, col.clab, cex.clab,
      side.clab, line.clab, adj.clab, font.clab</code>
and the axis parameters <code>at, labels, tick, line, pos, outer, font, lty, lwd,
    lwd.ticks, col.box, col.axis, col.ticks, hadj, padj, cex.axis, mgp, tck, tcl, las</code>.
The defaults for the parameters are <code>side = 4, plot = TRUE, length = 1, width = 1, 
      dist = 0, shift = 0, addlines = FALSE, col.clab = NULL, cex.clab = par("cex.lab"), 
      side.clab = NULL, line.clab = NULL, adj.clab = NULL, font.clab = NULL</code>)
See <a href="../../plot3D/help/colkey.html">colkey</a>.
</p>
<p>The default is to draw the color key on side = 4, i.e. in the right margin.
If <code>colkey</code> = <code>NULL</code> then a color key will be added only if <code>col</code> is a vector.
Setting <code>colkey = list(plot = FALSE)</code> will create room for the color key 
without drawing it.
if <code>colkey = FALSE</code>, no color key legend will be added.
</p>
</td></tr> 
<tr><td><code id="Perspective+20box_:_plot">plot</code></td>
<td>
<p>Logical. If <code>TRUE</code> (default), a plot is created, 
otherwise the viewing transformation matrix is returned (as invisible). 
</p>
</td></tr> 
<tr><td><code id="Perspective+20box_:_...">...</code></td>
<td>
<p>additional arguments passed to <a href="../../graphics/html/persp.html">persp</a>. 
</p>
<p>The following <a href="../../graphics/html/persp.html">persp</a> arguments can be specified: 
<code>xlim, ylim, zlim, xlab, ylab, zlab, main, sub, r, d, 
    scale, expand, box, axes, nticks, ticktype</code>.      
</p>
<p>Arguments <code>scale</code> and <code>expand</code> affect the size of the axes.
</p>
<p>The arguments after ... must be matched exactly.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>xlim</code>, <code>ylim</code>, <code>zlim</code> only affect the axes.
All objects will be plotted, including those that fall out of these ranges.
To select objects only within the axis limits, use <a href="../../plot3D/help/plotdev.html">plotdev</a>.
</p>
<p>The predefined box types <code>bty</code> are defined as follows:
</p>
<p>&ldquo;f&rdquo;: all panels are shown and transparent, also the <a href="../../graphics/html/persp.html">persp</a> default.
</p>
<p>&ldquo;b&rdquo;: only backward panels shown.
</p>
<p>&ldquo;b2&rdquo;: as &ldquo;b&rdquo; with <code>col.grid = "grey"</code>.
</p>
<p>&ldquo;g&rdquo;: only backward panels shown; <code>col.panel = grey(0.95)</code>, 
<code>col.axis = "grey"</code>,
<code>lwd.grid = 2</code> and <code>col.grid = "white"</code>.
</p>
<p>&ldquo;bl&rdquo;: only backward panels shown; <code>col.panel = "black"</code>, 
<code>col.axis = "grey"</code>,
<code>lwd.grid = 2</code> and <code>col.grid = "white"</code>.
</p>
<p>&ldquo;n&rdquo;: no box is drawn.
</p>


<h3>Value</h3>

<p>Function <code>perspbox</code> returns the viewing transformation matrix.
See <a href="../../plot3D/help/trans3D.html">trans3D</a>.
</p>


<h3>Author(s)</h3>

<p>Karline Soetaert &lt;karline.soetaert@nioz.nl&gt;</p>


<h3>See Also</h3>

<p><a href="../../plot3D/help/persp3D.html">persp3D</a>, <a href="../../plot3D/help/scatter2D.html">scatter2D</a>, <a href="../../plot3D/help/surf3D.html">surf3D</a> for examples where box types 
different than the default are used.
</p>
<p><a href="../../plot3D/help/Hypsometry.html">Hypsometry</a> for an example where colored axis-panels are added to a 
figure started with <code>perspbox</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># save plotting parameters                            
 pm   &lt;- par("mfrow")
 pmar &lt;- par("mar")

## ========================================================================
## The 4 predefined box types
## ========================================================================

 par(mfrow = c(2, 2), mar = c(1, 1, 1, 1))
 
# box type with only backward panels
 perspbox(z = volcano, bty = "b", ticktype = "detailed", d = 2, 
          main  = "bty = 'b'")
# box as in 'persp'
 perspbox(z = volcano, bty = "f", ticktype = "detailed", 
          d = 2, main  = "bty = 'f'")

# back panels with gridlines, detailed axes
 perspbox(z = volcano, bty = "b2", ticktype = "detailed", 
          d = 2, main  = "bty = 'b2'")

# ggplot-type, simple axes 
 perspbox(z = volcano, bty = "g", 
          d = 2, main  = "bty = 'g'")

## ========================================================================
## A user-defined box
## ========================================================================

 par(mfrow = c(1, 1))

 perspbox(z = diag(2), bty = "u", ticktype = "detailed", 
          col.panel = "gold", col.axis = "white",  
          scale = FALSE, expand = 0.4, 
          col.grid = "grey", main = "user-defined")

# restore plotting parameters
 par(mfrow = pm)
 par(mar = pmar)
</code></pre>

<hr /><div style="text-align: center;">[Package <em>plot3D</em> version 1.4 <a href="00Index.html">Index</a>]</div>
</div>
</body></html>
